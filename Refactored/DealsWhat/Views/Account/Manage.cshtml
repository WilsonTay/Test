<div class="gap"></div>

<h3>Account Settings</h3>
<div class="row">
    <div class="col-md-3">
        <aside class="sidebar-left">
            <ul class="nav nav-pills nav-stacked nav-arrow">
                <li class="active">
                    <a href="page-my-account-settings.html">Settings</a>
                </li>
                <li>
                    <a href="page-my-account-addresses.html">Address Book</a>
                </li>
                <li>
                    <a href="page-my-account-orders.html">Orders History</a>
                </li>
                <li>
                    <a href="page-my-account-wishlist.html">Wishlist</a>
                </li>
            </ul>
        </aside>
    </div>
    <div class="col-md-9">
        <div class="row">
            <div class="col-md-6">
                <form>
                    <div class="form-group">
                        <label for="">First Name</label>
                        <input id="first-name" name="FirstName" type="text" value="" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="">Last Name</label>
                        <input name="LastName" type="text" value="" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="">E-mail</label>
                        <input name="Email" type="text" value="" class="form-control">
                    </div>
                    <div class="form-group">
                        <label for="">Phone Number</label>
                        <input name="PhoneNumber" type="text" value="" class="form-control">
                    </div>
                    <input id="btn-save-profile" type="button" value="Save Changes" class="btn btn-primary">
                </form>
            </div>
        </div>
        <div class="gap"></div>
    </div>
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            loadProfile();
        });

        $('#btn-save-profile').click(function () {
            saveProfile();
        });

        function loadProfile() {
            $.ajax({
                url: baseUrl + "api/account/userinfo",
                method: 'get',
                dataType: 'json',
                cache: false,
                success: function (profile) {
                    $('#first-name').val(profile.FirstName);
                },
                complete: function () {
                }
            });
        }

        function saveProfile() {
            var data = {};
            data.FirstName = $('#first-name').val();

            $.ajax({
                url: baseUrl + "api/account/userinfo",
                method: 'post',
                dataType: 'json',
                data: data,
                cache: false,
                success: function () {
                },
                complete: function () {
                }
            });
        }
    </script>
}

@*@model DealsWhat.Models.LocalPasswordModel
    @{
        ViewBag.Title = "Manage Account";
    }

    <hgroup class="title">
        <h1>@ViewBag.Title.</h1>
    </hgroup>

    <p class="message-success">@ViewBag.StatusMessage</p>

    <p>You're logged in as <strong>@User.Identity.Name</strong>.</p>

    @if (ViewBag.HasLocalPassword)
    {
        @Html.Partial("_ChangePasswordPartial")
    }
    else
    {
        @Html.Partial("_SetPasswordPartial")
    }

    <section id="externalLogins">
        @Html.Action("RemoveExternalLogins")

        <h3>Add an external login</h3>
        @Html.Action("ExternalLoginsList", new { ReturnUrl = ViewBag.ReturnUrl })
    </section>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }*@
